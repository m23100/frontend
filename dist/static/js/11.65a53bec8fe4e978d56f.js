webpackJsonp([11],{"0nR5":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("m4jk"),n=t("wEYB"),i=t("vPHJ"),o={data:function(){return{dialogImageUrl:"",uploadUrl:n.a+"/api/image/imageUpload?type=auth",dialogVisible:!1,centerDialogVisible:!1,state:-1,options:[],value:"",user_income_str:"",button_disabled:!1,uploadHeaders:{Authorization:"Bearer "+localStorage.getItem("token")},ruleForm:{real_name:"",phone:"",id_number:"",user_income:"",income_prove:"",options:[],id_image_just:"",id_image_back:"",channel_info:"",channel_prove:""},rules:{real_name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"change"},{validator:function(e,a,t){""===a?t(new Error("请输入手机号")):(Object(i.c)(a)||t(new Error("请输入正确的手机号")),t())},trigger:"change"}],id_number:[{required:!0,message:"请输入身份证号",trigger:"change"},{validator:function(e,a,t){""===a?t(new Error("请输入身份证号")):(Object(i.b)(a)||t(new Error("请输入正确的身份证号")),t())},trigger:"change"}],user_income:[{required:!0,message:"请选择收入水平",trigger:"change"}],income_prove:[{required:!0,message:"请上传收入水平图片",trigger:"change"}],id_image_just:[{required:!0,message:"请上身份证正面",trigger:"change"}],id_image_back:[{required:!0,message:"请上传身份证反而",trigger:"change"}],channel_info:[{required:!0,message:"请输入渠道信息",trigger:"change"}],channel_prove:[{required:!0,message:"请上传渠道信息图片",trigger:"change"}]}}},inject:["reload"],methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleExceed:function(e){this.$message.warning("只能上传1个文件")},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},beforeRemove:function(e,a){return this.$confirm("确定移除 "+e.name+"？")},idImageFront:function(e,a){this.ruleForm.id_image_just=n.b+e.data.url},idImageFrontRemove:function(e,a){this.ruleForm.id_image_just=""},idImageBack:function(e){this.ruleForm.id_image_back=n.b+e.data.url},idImageBackRemove:function(){this.ruleForm.id_image_back=""},incomeProve:function(e){this.ruleForm.income_prove=n.b+e.data.url},incomeProveRemove:function(){this.ruleForm.income_prove=""},channelProve:function(e){this.ruleForm.channel_prove=n.b+e.data.url},channelProveRemove:function(){this.ruleForm.channel_prove=""},handleChange:function(e){this.ruleForm.user_income=e},Submission:function(e){var a=this;this.button_disabled=!0,this.$refs[e].validate(function(e){if(!e)return!1;var t=a.ruleForm;r.a.addUserAuth(t).then(function(e){0==e.code?(a.$message.success("提交成功!"),a.reload(),a.button_disabled=!1):(a.$message.error("提交失败"+e.msg),a.button_disabled=!1)}).catch(function(e){console.log(e)})})}},created:function(){var e=this;r.a.getUserAuth().then(function(a){e.state=a.code,1!=a.code&&(e.ruleForm=a.data.userAuthInfo,e.ruleForm.options=[]),a.data.userIncomeList.forEach(function(a,t){a.income_type==e.ruleForm.user_income&&(e.user_income_str=a.income),e.ruleForm.options.push({label:a.income,value:a.income_type})})})}},l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"Authentication right-content"},[e._m(0),e._v(" "),1===e.state?t("div",{staticClass:"centent"},[t("div",{staticClass:"Title"},[e._v("认证信息")]),e._v(" "),e._m(1),e._v(" "),t("h3",[e._v("当前处于未认证状态")]),e._v(" "),t("div",{staticClass:"xxx"},[t("el-button",{staticClass:"test",attrs:{type:"text"},on:{click:function(a){e.centerDialogVisible=!0}}},[e._v("去认证")])],1)]):e._e(),e._v(" "),2===e.state?t("div",{staticClass:"centent"},[t("h2",{staticClass:"Title"},[e._v("认证信息")]),e._v(" "),e._m(2),e._v(" "),t("h3",[e._v("正在全力审核中")]),e._v(" "),t("div",{staticClass:"xxx"},[t("el-button",{staticClass:"test",attrs:{type:"text"},on:{click:function(a){e.centerDialogVisible=!0}}},[e._v("修改资料")])],1)]):e._e(),e._v(" "),3===e.state?t("div",{staticClass:"centent"},[t("h2",{staticClass:"Title"},[e._v("认证信息")]),e._v(" "),e._m(3),e._v(" "),t("h3",[e._v("资料被打回")]),e._v(" "),t("div",{staticClass:"xxx"},[t("el-button",{staticClass:"test",attrs:{type:"text"},on:{click:function(a){e.centerDialogVisible=!0}}},[e._v("修改资料")])],1)]):0===e.state?t("div",{staticClass:"centent"},[t("h2",{staticClass:"Title"},[e._v("认证信息")]),e._v(" "),t("div",{staticClass:"PersonalData"},[t("el-row",[t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple"},[e._v("真实姓名")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("div",{staticClass:"grid-content bg-purple-light"},[e._v(e._s(e.ruleForm.real_name))])])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple"},[e._v("手机号")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("div",{staticClass:"grid-content bg-purple-light"},[e._v(e._s(e.ruleForm.phone))])])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple"},[e._v("身份证号")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("div",{staticClass:"grid-content bg-purple-light"},[e._v(e._s(e.ruleForm.id_number))])])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple"},[e._v("收入水平")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("div",{staticClass:"grid-content bg-purple-light"},[e._v(e._s(e.user_income_str))])])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple"},[e._v("自有渠道")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("div",{staticClass:"grid-content bg-purple-light"},[e._v(e._s(e.ruleForm.channel_info))])])],1),e._v(" "),t("el-row",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.centerDialogVisible=!0}}},[e._v("申请更新")])],1)],1)]):e._e(),e._v(" "),t("el-dialog",{attrs:{title:"上传放单权限资格申请资料",visible:e.centerDialogVisible,width:"700px",center:""},on:{"update:visible":function(a){e.centerDialogVisible=a}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"真实姓名",prop:"real_name"}},[t("el-input",{attrs:{placeholder:"请填写真实姓名"},model:{value:e.ruleForm.real_name,callback:function(a){e.$set(e.ruleForm,"real_name",a)},expression:"ruleForm.real_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{attrs:{placeholder:"请填写手机号"},model:{value:e.ruleForm.phone,callback:function(a){e.$set(e.ruleForm,"phone",a)},expression:"ruleForm.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证号",prop:"id_number"}},[t("el-input",{attrs:{placeholder:"请填写身份证号码"},model:{value:e.ruleForm.id_number,callback:function(a){e.$set(e.ruleForm,"id_number",a)},expression:"ruleForm.id_number"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证图片",prop:"id_image_just"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadHeaders,action:e.uploadUrl,"show-file-list":!1,limit:1,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-exceed":e.handleExceed,"on-success":e.idImageFront,"before-remove":e.beforeRemove,"on-remove":e.idImageFrontRemove}},[e.ruleForm.id_image_just?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.id_image_just}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传身份证正面")])]),e._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadHeaders,action:e.uploadUrl,"show-file-list":!1,limit:1,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-exceed":e.handleExceed,"on-success":e.idImageBack,"on-remove":e.idImageBackRemove,"before-remove":e.beforeRemove}},[e.ruleForm.id_image_back?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.id_image_back}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传身份证反面")])])],1),e._v(" "),t("el-form-item",{attrs:{label:"收入水平",prop:"user_income"}},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.ruleForm.user_income,callback:function(a){e.$set(e.ruleForm,"user_income",a)},expression:"ruleForm.user_income"}},e._l(e.ruleForm.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"上传照片",prop:"income_prove"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadHeaders,action:e.uploadUrl,"show-file-list":!1,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,limit:1,"on-exceed":e.handleExceed,"on-success":e.incomeProve,"before-remove":e.beforeRemove,"on-remove":e.incomeProveRemove}},[e.ruleForm.income_prove?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.income_prove}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"自有渠道",prop:"channel_info"}},[t("el-input",{attrs:{placeholder:"填写自有渠道信息"},model:{value:e.ruleForm.channel_info,callback:function(a){e.$set(e.ruleForm,"channel_info",a)},expression:"ruleForm.channel_info"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"上传照片",prop:"channel_prove"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadHeaders,action:e.uploadUrl,"show-file-list":!1,limit:1,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-exceed":e.handleExceed,"on-success":e.channelProve,"before-remove":e.beforeRemove,"on-remove":e.channelProveRemove}},[e.ruleForm.channel_prove?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.channel_prove}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",disabled:e.button_disabled},on:{click:function(a){e.Submission("ruleForm")}}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:function(a){e.centerDialogVisible=!1}}},[e._v("取消")])],1)],1)],1)},s=[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"vipimg"},[a("img",{attrs:{src:t("9MfT"),alt:""}})])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"xx"},[a("img",{attrs:{src:t("Xh13"),alt:""}})])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"xx"},[a("img",{attrs:{src:t("Xh13"),alt:""}})])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"xx"},[a("img",{attrs:{src:t("Xh13"),alt:""}})])}];l._withStripped=!0;var c={render:l,staticRenderFns:s},d=c;var u=!1;var p=t("VU/8")(o,d,!1,function(e){u||t("mP5t")},"data-v-52aab732",null);p.options.__file="src/views/Authentication.vue";a.default=p.exports},Xh13:function(e,a,t){e.exports=t.p+"static/img/renzhenxiong.c278043.png"},iolB:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.centent[data-v-52aab732] {\n  background-color: #fff;\n  display: inline-block;\n  width: 100%;\n  padding-top: 20px;\n}\n.xx[data-v-52aab732] {\n  text-align: center;\n}\n.centent h3[data-v-52aab732] {\n  color: #a0a0a0;\n  font-size: 14px;\n  text-align: center;\n  margin: 20px 0;\n}\n.xxx[data-v-52aab732] {\n  text-align: center;\n  margin: 0 auto;\n}\n.el-row[data-v-52aab732] {\n  margin-bottom: 20px;\n  width: 100% !important;\n}\n.el-row[data-v-52aab732]:last-child {\n    margin-bottom: 0;\n}\n.el-col[data-v-52aab732] {\n  border-radius: 4px;\n}\n.bg-purple-dark[data-v-52aab732] {\n  background: #99a9bf;\n}\n.bg-purple[data-v-52aab732] {\n  color: #989898;\n  line-height: 36px;\n  font-size: 16px;\n}\n.bg-purple-light[data-v-52aab732] {\n  padding-left: 12px;\n  background: #f0f0f0;\n  line-height: 36px;\n  font-size: 14px;\n}\n.grid-content[data-v-52aab732] {\n  border-radius: 4px;\n  min-height: 36px;\n}\n.row-bg[data-v-52aab732] {\n  padding: 10px 0;\n  background-color: #f9fafc;\n}\n.centent[data-v-52aab732] {\n  background-color: #fff;\n  display: inline-block;\n  width: 100%;\n  padding-top: 20px;\n}\n.PersonalData[data-v-52aab732] {\n  padding-top: 10px;\n  padding-left: 30px;\n  padding-bottom: 30px;\n}\n.Title[data-v-52aab732] {\n  background-color: #fff;\n}\n.avatar-uploader[data-v-52aab732] {\n  display: inline-block;\n}\n.avatar-uploader .el-upload[data-v-52aab732] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-52aab732]:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-52aab732] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 115px;\n  height: 115px;\n  line-height: 115px;\n  text-align: center;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  margin-right: 15px;\n}\n.avatar-uploader-icon[data-v-52aab732]:hover {\n  border-color: #409EFF;\n}\n.avatar[data-v-52aab732] {\n  width: 115px;\n  height: 115px;\n  display: block;\n}\n.el-upload__tip[data-v-52aab732] {\n  width: 100px;\n}\n",""])},mP5t:function(e,a,t){var r=t("iolB");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("83870ff4",r,!1,{})}});