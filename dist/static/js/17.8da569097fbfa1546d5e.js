webpackJsonp([17],{ftHY:function(t,e,r){var o=r("xf+E");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("634a3dfb",o,!1,{})},mQD1:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("Dd8w"),l=r.n(o),i=r("m4jk"),n=(r("vPHJ"),r("NYxO")),a={data:function(){var t=this;return{ruleForm:{link:"",startdate:"",startfield:"",endDateOpt:{disabledDate:function(t){return t.getTime()<Date.now()||t.getTime()>Date.now()+2592e5},shortcuts:[{text:"明天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"后天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+1728e5),t.$emit("pick",e)}}]}},rules:{link:[{required:!0,message:"请输入商品链接",trigger:"change"},{validator:function(e,r,o){""===r?o(new Error("请输入商品链接")):t.checkout().then(function(e){0==e.code?(t.setGoodsType("kill"),t.setGoodsInfo({link:t.ruleForm.link,id:e.data.goodsid,salecount:e.data.salecount,coverimage:e.data.images[0]}),o()):o(new Error(e.msg))}).catch(function(t){console.log(t),o(new Error("商品链接检测失败,网络错误！"))})},trigger:"change"}],startdate:[{required:!0,message:"请选择秒杀日期",trigger:"change"}],startfield:[{required:!0,message:"请选择秒杀场次",trigger:"blur"}]},startfieldlist:[]}},methods:l()({},Object(n.b)({setGoodsType:"setGoodsType",setGoodsInfo:"setGoodsInfo",setGoodsKill:"setGoodsKill"}),{checkout:function(){return i.a.checklink({link:this.ruleForm.link})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.checkout().then(function(t){0==t.code&&(e.setGoodsType("kill"),e.setGoodsInfo({link:e.ruleForm.link,id:t.data.goodsid,salecount:t.data.salecount,coverimage:t.data.images[0]}),e.setGoodsKill({goodsTime:e.ruleForm.startfield,goodsDate:e.ruleForm.startdate}),e.$router.push({path:"/Secondfrom"}))})})},resetForm:function(t){this.$refs[t].resetFields()}}),created:function(){var t=this;i.a.getKillField().then(function(e){t.startfieldlist=e.data})}},s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Killcheckout"},[r("h2",{staticClass:"Title"},[t._v("商品链接检测")]),t._v(" "),r("div",{staticClass:"centent"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"商品链接",prop:"link"}},[r("el-input",{attrs:{placeholder:"将商品链接粘贴于此"},model:{value:t.ruleForm.link,callback:function(e){t.$set(t.ruleForm,"link",e)},expression:"ruleForm.link"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"活动时间"}},[r("el-col",[r("el-form-item",{attrs:{prop:"startdate"}},[r("el-date-picker",{staticStyle:{width:"20%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","picker-options":t.ruleForm.endDateOpt},model:{value:t.ruleForm.startdate,callback:function(e){t.$set(t.ruleForm,"startdate",e)},expression:"ruleForm.startdate"}}),t._v(" "),r("span",{staticClass:"text"},[t._v("说明:为保证商品及优惠券有效性，只能预约近3天的秒杀")])],1)],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"秒杀场次",prop:"startfield"}},[r("el-radio-group",{model:{value:t.ruleForm.startfield,callback:function(e){t.$set(t.ruleForm,"startfield",e)},expression:"ruleForm.startfield"}},t._l(t.startfieldlist,function(e,o){return r("el-radio",{key:e.time,attrs:{label:e.time}},[t._v(t._s(e.field))])}))],1),t._v(" "),r("el-col",{staticClass:"text text-col",attrs:{span:24}},[t._v("\n            说明："),r("br"),t._v("\n            1.正在显示推广的商品，不能重复提交"),r("br"),t._v("\n            2.等级低于4皇冠的C店不能提交"),r("br"),t._v("\n            3.店铺D.S.R店铺三绿,任一分数低于4.6的不能提交"),r("br"),t._v("\n            4.与描述相符分低于4.7分的商品不能提交\n          ")]),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("下一步")]),t._v(" "),r("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)])};s._withStripped=!0;var c={render:s,staticRenderFns:[]},d=c;var u=!1;var f=r("VU/8")(a,d,!1,function(t){u||r("ftHY")},"data-v-62be01f7",null);f.options.__file="src/views/SecondKill/Killcheckout.vue";e.default=f.exports},"xf+E":function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"\n.Killcheckout[data-v-62be01f7] {\n  padding-bottom: 30px;\n  background-color: #fff;\n}\n.Killcheckout .Title[data-v-62be01f7] {\n    font-size: 18px;\n    color: #000;\n    border-left: 4px solid #43b5f9;\n    line-height: 22px;\n    padding-left: 10px;\n    font-weight: 400;\n    margin-bottom: 25px;\n}\n.Killcheckout .text[data-v-62be01f7] {\n    color: #afafaf;\n}\n.Killcheckout .text-col[data-v-62be01f7] {\n    padding-bottom: 20px;\n    padding-left: 100px;\n    font-size: 14px;\n}\n.Killcheckout .el-input[data-v-62be01f7] {\n    width: 80%;\n}\n",""])}});