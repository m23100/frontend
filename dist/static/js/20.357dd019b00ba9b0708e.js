webpackJsonp([20],{"/mmB":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"\n.Viptesting[data-v-3b8d4c37] {\n  padding-bottom: 20px;\n  background-color: #fff;\n}\n.Viptesting .pagination[data-v-3b8d4c37] {\n    margin-top: 20px;\n    text-align: center;\n}\n",""])},jqeO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),o=s("m4jk"),n=s("NYxO"),r=s("wEYB"),c={data:function(){return{list:[],total:0,page:1,type:0,state:0,commissiontype:{1:"通用",2:"定向",3:"鹊桥",4:"营销"},pageSize:r.c}},inject:["reload"],methods:a()({},Object(n.b)({setGoodsType:"setGoodsType",setGoodsInfo:"setGoodsInfo"}),{editView:function(t){this.setGoodsInfo({link:t.goodslink,id:t.goodsid,editId:t.id}),this.setGoodsType("normal"),this.$router.push({path:"/Flatfrom"})},viewCopy:function(t){o.a.viewCopy({id:t.id}).then(function(t){t.code})},deleteGoods:function(t){var e=this;this.$confirm("此操作将删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.a.deleteGoods({id:t.id}).then(function(t){0==t.code?(e.$message({type:"success",message:"操作成功!"}),e.reload()):(e.$message({type:"info",message:"操作失败"}),e.reload())})}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},handleCurrentChange:function(t){var e=this;o.a.auditing({type:this.type,state:this.state,page:t}).then(function(s){var i=e;s.data.data.forEach(function(t,e){t.coverimage=JSON.parse(t.coverimage);var s=JSON.parse(t.copywritingimage),a=JSON.parse(t.copywriting);t.copywriting=a,t.copywritingimage=s,t.commissiontype=i.commissiontype[t.commissiontype]}),e.list=s.data.data,e.total=s.data.total,e.page=t})}}),created:function(){var t=this;o.a.auditing({type:this.type,state:this.state}).then(function(e){var s=t;e.data.data.forEach(function(t,e){t.coverimage=JSON.parse(t.coverimage);var i=JSON.parse(t.copywritingimage),a=JSON.parse(t.copywriting);t.copywriting=a,t.copywritingimage=i,t.commissiontype=s.commissiontype[t.commissiontype]}),t.list=e.data.data,t.total=e.data.total})}},l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Viptesting right-content"},[i("h2",{staticClass:"Title"},[t._v("平推审核中")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":""}},[i("el-table-column",{attrs:{label:"商品名",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticClass:"coverimage",attrs:{src:e.row.coverimage.main,alt:"商品"}}),t._v(" "),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.goodstitle))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"文案信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{placement:"right",trigger:"click"},model:{value:e.row.visible,callback:function(s){t.$set(e.row,"visible",s)},expression:"scope.row.visible"}},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item"},[i("div",{staticClass:"copys"},[i("div",{staticClass:"photo"},[i("img",{attrs:{src:e.row.copywritingimage.first,width:"220",height:"280",alt:"商品"}})]),t._v(" "),i("div",{staticClass:"descr"},[t._v("\n                    "+t._s(e.row.goodstitle)),i("br"),t._v("\n                    【原价"+t._s(e.row.origprice)+"元】券后【"+t._s(e.row.voucherprice)+"】"),i("br"),t._v("\n                    领券："+t._s(e.row.couponlink)),i("br"),t._v("\n                    抢购："+t._s(e.row.goodslink)),i("br"),t._v("\n                    "+t._s(e.row.copywriting.first)+"\n                  ")])]),t._v(" "),i("div",{staticClass:"mask showmore hover"},[i("div",{staticClass:"cover"},[i("a",{attrs:{href:"#"}},[i("img",{attrs:{src:e.row.coverimage.main,width:"260",height:"260",alt:"产品名"}})]),t._v(" "),i("div",{staticClass:"btns"})]),t._v(" "),i("div",{staticClass:"content"},[i("h1",{staticClass:"title"},[t._v("\n                    "+t._s(e.row.goodstitle))]),t._v(" "),i("div",{staticClass:"line"},[i("div")]),t._v(" "),i("div",{staticClass:"sales"},[i("div",[t._v("券后"),i("span",[t._v("￥"),i("b",[t._v(t._s(e.row.voucherprice))])])]),t._v(" "),i("p",[t._v("月销："+t._s(e.row.monthsales))])]),t._v(" "),i("div",{staticClass:"fee"},[t._v("佣金："+t._s(e.row.commissiontype)+" "),i("b",[t._v(t._s(e.row.commissionrate)+"%")])]),t._v(" "),i("div",{staticClass:"coupon"},[i("div",[i("span",[t._v(t._s(e.row.couponmoney)+"元")])]),t._v(" "),i("p",[i("span",[1==e.row.shoptype?i("img",{attrs:{src:s("/lDg"),alt:"taobao"}}):t._e(),2==e.row.shoptype?i("img",{attrs:{src:s("d2rc"),alt:"tmall"}}):t._e()]),t._v(" "),i("span",[1==e.row.activitytype?i("img",{attrs:{src:s("5OWx"),alt:"tmall"}}):t._e(),2==e.row.activitytype?i("img",{attrs:{src:s("z9mJ"),alt:"tmall"}}):t._e()])])])]),t._v(" "),i("div",{staticClass:"extras"},[i("div",{staticClass:"row"},[i("span",[t._v("推广销量增涨："),i("b",[t._v(t._s(e.row.increment))])])]),t._v(" "),i("div",{staticClass:"row"},[i("span",[t._v("优惠券剩余："),i("b",[t._v(t._s(e.row.couponremain))]),t._v("/"+t._s(e.row.coupontotal))])]),t._v(" "),i("div",{staticClass:"row"},[i("span",[t._v("店铺："+t._s(e.row.shopname))])])])])])]),t._v(" "),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("预览文案")])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"created_at",label:"提交时间"}}),t._v(" "),i("el-table-column",{attrs:{prop:"begintime",label:"开始时间"}}),t._v(" "),i("el-table-column",{attrs:{prop:"begintime",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.editView(e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.deleteGoods(e.row)}}},[t._v("撤销提交")])]}}])})],1),t._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)};l._withStripped=!0;var p={render:l,staticRenderFns:[]},v=p;var d=!1;var m=s("VU/8")(c,v,!1,function(t){d||s("pL6V")},"data-v-3b8d4c37",null);m.options.__file="src/views/platform/Vip/Viptesting.vue";e.default=m.exports},pL6V:function(t,e,s){var i=s("/mmB");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("4846d9fe",i,!1,{})}});